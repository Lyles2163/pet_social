import{_ as V,r as v,c as r,b as u,d as t,ap as f,w as o,ai as m,v as d,t as c,g as w,ar as k,as as _,o as n}from"./index-Dj3ETPvc.js";import{u as S}from"./petStore-BrgahU0J.js";const C={class:"pet-create-page"},U={class:"pet-create-view"},P={class:"form-container"},B={class:"form-group"},D={key:0,class:"error-message"},F={key:0,class:"error-message"},N={class:"form-field"},T={class:"form-field"},E={class:"form-field"},z={class:"form-field"},I={__name:"PetCreateView",setup(M){const p=w(),b=S(),a=v({pet_name:"",pet_type:"",pet_age:"",pet_gender:"",description:"",pet_image:"",user_id:1}),l=v({pet_name:"",pet_type:""}),g=()=>{let i=!0;return l.value.pet_name="",l.value.pet_type="",a.value.pet_name.trim()||(l.value.pet_name="请填写宠物名称",i=!1),a.value.pet_type.trim()||(l.value.pet_type="请填写宠物类型",i=!1),i},y=async i=>{if(i.preventDefault(),!!g())try{const e=await b.createPet({user_id:a.value.user_id,pet_name:a.value.pet_name,pet_type:a.value.pet_type,pet_age:a.value.pet_age,pet_gender:a.value.pet_gender,description:a.value.description,pet_image:a.value.pet_image});e.success?(k("发布成功"),p.push("/cutePet")):_(e.message||"发布失败")}catch(e){_("发布宠物信息出错"),console.error("发布宠物信息出错:",e)}},x=()=>{p.back()};return(i,e)=>(n(),r("div",C,[e[18]||(e[18]=u('<div class="background-gradient" data-v-06f44b27></div><div class="decorative-elements" data-v-06f44b27><div class="floating-circle circle-1" data-v-06f44b27></div><div class="floating-circle circle-2" data-v-06f44b27></div><div class="floating-circle circle-3" data-v-06f44b27></div><div class="floating-star star-1" data-v-06f44b27>🐾</div><div class="floating-star star-2" data-v-06f44b27>🌟</div><div class="floating-star star-3" data-v-06f44b27>✨</div></div>',2)),t("div",U,[t("div",{class:"custom-nav-bar"},[t("div",{class:"nav-left",onClick:x},e[6]||(e[6]=[t("span",{class:"nav-arrow"},"←",-1),t("span",{class:"nav-text"},"返回",-1)])),e[7]||(e[7]=t("div",{class:"nav-title"},"🐾 发布宠物信息",-1)),e[8]||(e[8]=t("div",{class:"nav-right"},null,-1))]),t("div",P,[e[16]||(e[16]=t("div",{class:"title-section"},[t("div",{class:"title-icon"},"🐕‍🦺"),t("h2",{class:"form-title"},"分享您的萌宠"),t("p",{class:"form-subtitle"},"让更多人认识您可爱的小伙伴")],-1)),t("form",{onSubmit:y,class:"pet-form"},[t("div",B,[t("div",{class:f(["form-field",{"has-error":l.value.pet_name}])},[e[9]||(e[9]=t("label",{for:"pet_name",class:"field-label"},"🏷️ 宠物名称",-1)),o(t("input",{id:"pet_name","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.pet_name=s),type:"text",class:"field-input",placeholder:"请输入宠物名称"},null,512),[[d,a.value.pet_name]]),l.value.pet_name?(n(),r("div",D,c(l.value.pet_name),1)):m("",!0)],2),t("div",{class:f(["form-field",{"has-error":l.value.pet_type}])},[e[10]||(e[10]=t("label",{for:"pet_type",class:"field-label"},"🐱 宠物类型",-1)),o(t("input",{id:"pet_type","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.pet_type=s),type:"text",class:"field-input",placeholder:"如：猫、狗、兔子等"},null,512),[[d,a.value.pet_type]]),l.value.pet_type?(n(),r("div",F,c(l.value.pet_type),1)):m("",!0)],2),t("div",N,[e[11]||(e[11]=t("label",{for:"pet_age",class:"field-label"},"🎂 宠物年龄",-1)),o(t("input",{id:"pet_age","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.pet_age=s),type:"number",class:"field-input",placeholder:"请输入宠物年龄（可选）"},null,512),[[d,a.value.pet_age]])]),t("div",T,[e[12]||(e[12]=t("label",{for:"pet_gender",class:"field-label"},"⚧️ 宠物性别",-1)),o(t("input",{id:"pet_gender","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.pet_gender=s),type:"text",class:"field-input",placeholder:"如：公/母（可选）"},null,512),[[d,a.value.pet_gender]])]),t("div",E,[e[13]||(e[13]=t("label",{for:"description",class:"field-label"},"📝 宠物描述",-1)),o(t("textarea",{id:"description","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.description=s),class:"field-input textarea-input",placeholder:"请输入宠物描述（可选）",rows:"3"},null,512),[[d,a.value.description]])]),t("div",z,[e[14]||(e[14]=t("label",{for:"pet_image",class:"field-label"},"📸 宠物图片",-1)),o(t("input",{id:"pet_image","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.pet_image=s),type:"text",class:"field-input",placeholder:"请输入图片地址（可选）"},null,512),[[d,a.value.pet_image]])])]),e[15]||(e[15]=u('<div class="submit-section" data-v-06f44b27><button type="submit" class="submit-btn" data-v-06f44b27><span class="btn-icon" data-v-06f44b27>🎉</span><span class="btn-text" data-v-06f44b27>发布萌宠</span><div class="btn-ripple" data-v-06f44b27></div></button></div>',1))],32),e[17]||(e[17]=t("div",{class:"bottom-decoration"},[t("div",{class:"decoration-line"}),t("div",{class:"decoration-text"},"分享快乐 · 传递爱心 · 萌宠世界"),t("div",{class:"decoration-line"})],-1))])])]))}},q=V(I,[["__scopeId","data-v-06f44b27"]]);export{q as default};
